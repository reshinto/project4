(this.webpackJsonpshoptimize=this.webpackJsonpshoptimize||[]).push([[0],{34:function(e,t,n){e.exports=n(47)},39:function(e,t,n){},40:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=(n(39),n(40),n(9)),l=n(24),u=n(26),s=n(27);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h,f=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},g=(Object({NODE_ENV:"production",PUBLIC_URL:"/shoptimize"}).REACT_APP_DB,{token:null,error:null,loading:!1,isAuthenticated:!1}),p=function(e,t){return f(e,{error:null,loading:!0})},m=function(e,t){return f(e,{token:t.token,error:null,loading:!1,isAuthenticated:!0})},w=function(e,t){return f(e,{error:t.payload,loading:!1})},v=function(e,t){return f(e,{loading:!1,error:null})},b=function(e,t){return f(e,g)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return p(e);case"AUTH_SUCCESS":return m(e,t);case"AUTH_FAIL":return w(e,t);case"AUTH_LOGOUT":return b(e);case"CLEAR_ERRORS":return v(e);default:return e}},E=[u.a],O=Object(c.combineReducers)({authReducer:y}),j=Object(l.composeWithDevTools)(c.applyMiddleware.apply(void 0,E)),A=Object(c.createStore)(O,{},j),C=n(16),S=n(10),k=n(8),_=n(28),x=(Object(C.b)((function(e){return{auth:e.authReducer}}))((function(e){var t=e.component,n=e.auth,r=Object(_.a)(e,["component","auth"]);return a.a.createElement(k.b,Object.assign({},r,{render:function(e){return n.loading?a.a.createElement("div",null,"loading..."):n.isAuthenticated?a.a.createElement(t,e):a.a.createElement(k.a,{to:"/dashboard"})}}))})),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Home Page"),a.a.createElement(S.b,{to:"/shoptimize/floormap"},"floormap"))}),P=n(21),L=n.n(P),W=n(30),M=n(14),D=n(15),R=n(32),T=n(31),H=n(33),z=10,N=10,U=Math.floor(window.innerWidth/z),F=z*U-40,B=N*U-40,I=function(e,t){return Math.floor(Number(e)/U)+Math.floor(Number(t)/U)*z},V=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?{x:Number(e)%z,y:Math.floor(e/z)}:{x:Number(e)%z*U,y:Math.floor(Number(e)/z)*U}},J=function(e,t){return I(U*e-U,U*t-U)},G=function(e,t,n){for(var r=[],a=V(e),o=a.x,i=a.y,c=o;c<o+t;c+=U){console.log(c);for(var l=i;l<i+n;l+=U){console.log(l);var u=I(c,l);console.log(u),r.push(u)}}return r},Y=function(){function e(t,n){Object(M.a)(this,e),this.adjacencyList={},this.wallArr=new Array(J(t,n)).fill(null)}return Object(D.a)(e,[{key:"addVertex",value:function(e){var t=String(e);this.adjacencyList[t]||(this.adjacencyList[t]=[])}},{key:"addEdge",value:function(e,t,n,r){var a=String(e),o=String(t);r?this._addWeightEdge(a,o,n):this._addWallEdge(a,o,n)}},{key:"_addWallEdge",value:function(e,t,n){1===this.wallArr[e]&&1===this.wallArr[t]&&this._addEdge(e,t,n)}},{key:"_addWeightEdge",value:function(e,t,n){this.wallArr[e]>this.wallArr[t]?n=this.wallArr[e]:this.wallArr[t]>this.wallArr[e]&&(n=this.wallArr[t]),-1!==t&&this._addEdge(e,t,n)}},{key:"_addEdge",value:function(e,t,n){this.adjacencyList[e].push({node:t,weight:n}),this.adjacencyList[t].push({node:e,weight:n})}}]),e}(),$={root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},q=function(e){function t(){var e;return Object(M.a)(this,t),(e=Object(R.a)(this,Object(T.a)(t).call(this))).updateDimensions=Object(W.a)(L.a.mark((function t(){var n,r,a,o;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Math.floor(window.innerWidth/z),r=z*n,a=N*n,o=new Y(z,N),t.next=6,e.setStateAsync({tileSize:n,mapWidth:r,mapHeight:a,g:o});case 6:e.drawFloor();case 7:case"end":return t.stop()}}),t)}))),e.fillColor=function(e,t){var n=V(e),r=n.x,a=n.y;h.beginPath(),h.rect(r,a,U,U),h.fillStyle=t,h.fill()},e.drawFloor=function(){for(var t=0;t<=J(z,N);t++)e.state.g.addVertex(t),e.fillColor(t,"grey");e.fillColor(25,"red")},e.drawCategories=function(){for(var t=e.state.g.wallArr,n=0;n<t.length;n++)1===t[n]&&e.fillColor(n,"green")},e.addCategory=function(t,n,r){for(var a=G(t,n,r),o=0;o<a.length;o++)e.state.g.wallArr[a[o]]=1},e.addMapCategories=function(){e.addCategory(4,1*U,2*U)},e.state={tileSize:U,mapWidth:F,mapHeight:B,g:new Y(z,N)},e}return Object(H.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.canvas;h=e.getContext("2d"),this.drawFloor(),this.addMapCategories(),this.drawCategories(),window.addEventListener("resize",this.updateDimensions)}},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"render",value:function(){return a.a.createElement("div",{style:$.root},a.a.createElement("canvas",{ref:"canvas",width:this.state.mapWidth,height:this.state.mapHeight},"Your browser doesn't support the HTML5 CANVAS tag."))}}]),t}(a.a.Component),K=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(q,null))},Q="shoptimize",X=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.b,{exact:!0,path:"/",component:x}),a.a.createElement(k.b,{exact:!0,path:"/".concat(Q),component:x}),a.a.createElement(k.b,{exact:!0,path:"/".concat(Q,"/floormap"),component:K}))};var Z=function(){return a.a.createElement(C.a,{store:A},a.a.createElement(S.a,null,a.a.createElement(X,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.8b43b801.chunk.js.map