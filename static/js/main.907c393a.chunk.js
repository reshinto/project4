(this.webpackJsonpshoptimize=this.webpackJsonpshoptimize||[]).push([[0],{32:function(e,t,n){e.exports=n(44)},37:function(e,t,n){},38:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),l=(n(37),n(38),n(9)),c=n(23),u=n(25),s=n(26);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h,f,g=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},m=(Object({NODE_ENV:"production",PUBLIC_URL:"/shoptimize"}).REACT_APP_DB,{token:null,error:null,loading:!1,isAuthenticated:!1}),p=function(e,t){return g(e,{error:null,loading:!0})},w=function(e,t){return g(e,{token:t.token,error:null,loading:!1,isAuthenticated:!0})},v=function(e,t){return g(e,{error:t.payload,loading:!1})},b=function(e,t){return g(e,{loading:!1,error:null})},y=function(e,t){return g(e,m)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return p(e);case"AUTH_SUCCESS":return w(e,t);case"AUTH_FAIL":return v(e,t);case"AUTH_LOGOUT":return y(e);case"CLEAR_ERRORS":return b(e);default:return e}},O=[u.a],j=Object(l.combineReducers)({authReducer:E}),A=Object(c.composeWithDevTools)(l.applyMiddleware.apply(void 0,O)),C=Object(l.createStore)(j,{},A),S=n(16),k=n(10),_=n(8),P=n(27),x=(Object(S.b)((function(e){return{auth:e.authReducer}}))((function(e){var t=e.component,n=e.auth,r=Object(P.a)(e,["component","auth"]);return a.a.createElement(_.b,Object.assign({},r,{render:function(e){return n.loading?a.a.createElement("div",null,"loading..."):n.isAuthenticated?a.a.createElement(t,e):a.a.createElement(_.a,{to:"/dashboard"})}}))})),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Home Page"),a.a.createElement(k.b,{to:"/shoptimize/floormap"},"floormap"))}),L=n(14),W=n(15),H=n(30),M=n(29),R=n(31),T=10,z=10,D=function(e){return Math.floor((window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight)/e)},N=T*D(T)-40,U=z*D(T)-40,F=D(T),B=function(e,t){return Math.floor(Number(e)/F)+Math.floor(Number(t)/F)*T},I=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?{x:Number(e)%T,y:Math.floor(e/T)}:{x:Number(e)%T*F,y:Math.floor(Number(e)/T)*F}},V=function(e,t){return B(F*e-F,F*t-F)},J=function(e,t,n){for(var r=[],a=I(e),o=a.x,i=a.y,l=o;l<o+t;l+=F){console.log(l);for(var c=i;c<i+n;c+=F){console.log(c);var u=B(l,c);console.log(u),r.push(u)}}return r},G=function(){function e(t,n){Object(L.a)(this,e),this.adjacencyList={},this.wallArr=new Array(V(t,n)).fill(null)}return Object(W.a)(e,[{key:"addVertex",value:function(e){var t=String(e);this.adjacencyList[t]||(this.adjacencyList[t]=[])}},{key:"addEdge",value:function(e,t,n,r){var a=String(e),o=String(t);r?this._addWeightEdge(a,o,n):this._addWallEdge(a,o,n)}},{key:"_addWallEdge",value:function(e,t,n){1===this.wallArr[e]&&1===this.wallArr[t]&&this._addEdge(e,t,n)}},{key:"_addWeightEdge",value:function(e,t,n){this.wallArr[e]>this.wallArr[t]?n=this.wallArr[e]:this.wallArr[t]>this.wallArr[e]&&(n=this.wallArr[t]),-1!==t&&this._addEdge(e,t,n)}},{key:"_addEdge",value:function(e,t,n){this.adjacencyList[e].push({node:t,weight:n}),this.adjacencyList[t].push({node:e,weight:n})}}]),e}(),Y={root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},$=function(e){function t(){var e;return Object(L.a)(this,t),(e=Object(H.a)(this,Object(M.a)(t).call(this))).fillColor=function(t,n){var r=e.state.tileSize,a=I(t),o=a.x,i=a.y;h.beginPath(),h.rect(o,i,r,r),h.fillStyle=n,h.fill()},e.drawFloor=function(){f=new G(T,z);for(var t=0;t<=V(T,z);t++)f.addVertex(t),e.fillColor(t,"grey");e.fillColor(25,"red")},e.drawCategories=function(){for(var t=0;t<f.wallArr.length;t++)1===f.wallArr[t]&&e.fillColor(t,"green")},e.addCategory=function(e,t,n){for(var r=J(e,t,n),a=0;a<r.length;a++)f.wallArr[r[a]]=1},e.addMapCategories=function(){var t=e.state.tileSize;e.addCategory(4,1*t,2*t)},e.state={tileSize:D(T),mapWidth:N,mapHeight:U},e}return Object(R.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.canvas;h=e.getContext("2d"),this.drawFloor(),this.addMapCategories(),this.drawCategories()}},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"render",value:function(){return a.a.createElement("div",{style:Y.root},a.a.createElement("canvas",{ref:"canvas",width:this.state.mapWidth,height:this.state.mapHeight},"Your browser doesn't support the HTML5 CANVAS tag."))}}]),t}(a.a.Component),q=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement($,null))},K="shoptimize",Q=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(_.b,{exact:!0,path:"/",component:x}),a.a.createElement(_.b,{exact:!0,path:"/".concat(K),component:x}),a.a.createElement(_.b,{exact:!0,path:"/".concat(K,"/floormap"),component:q}))};var X=function(){return a.a.createElement(S.a,{store:C},a.a.createElement(k.a,null,a.a.createElement(Q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.907c393a.chunk.js.map